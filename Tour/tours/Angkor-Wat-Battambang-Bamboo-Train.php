<?php
include '../partials/__head.php';
include '../partials/__subhero.php';
?>

<main class="main">
  <!-- Travel Tour Details Section -->
  <section id="travel-tour-details" class="travel-tour-details section">

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <!-- Hero Section -->
      <div class="tour-hero">
        <div class="hero-image-wrapper">
          <img src="../assets/img/Angkorwat/beadcrumb.jpg" alt="Mediterranean Adventure Tour" class="img-fluid w-100">
          <div class="hero-overlay">
            <div class="hero-content">
              <h1>Phnom Penh – Siem Reap – Ancient Temple – Casino -5Days</h1>
              <div class="hero-meta">
                <span class="duration"><i class="bi bi-calendar"></i> 5 Days</span>
                <span class="destination"><i class="bi bi-geo-alt"></i> Phnom Penh, Siem Reap &amp; Casino</span>
                <span class="rating"><i class="bi bi-star-fill"></i> 4.8 (124 reviews)</span>
              </div>_
              <p class="hero-tagline">Discover Cambodia’s rich history and vibrant energy—from the royal landmarks of Phnom Penh to the ancient temples of Angkor and the excitement of casino nightlife.</p>

              <a href="#booking" class="btn-book">Check Availability</a>
            </div>
          </div>
        </div>
      </div>

      <!-- Gallery Blog -->
      <div class="tour-overview gallery-blog" data-aos="fade-up" data-aos-delay="200">
        <div class="row">
          <!-- Left: Gallery Blog -->
          <div class="col-lg-8">
            <h2>Gallery Blog</h2>

            <div class="row g-2 mt-3">
              <div class="col-md-4">
                <div class="hover-card">
                  <img src="../assets/img/Angkorwat/0eb4082e2b37e7cc1c9eb4c477445e0d.jpg" alt="Angkor Wat">
                  <div class="hover-overlay">
                    <div class="hover-text">
                      <h5 class="text-light">Angkor Wat Temple</h5>
                      <small>Discover the majestic ancient temple of Angkor Wat, a UNESCO heritage site.</small>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="hover-card">
                  <img src="../assets/img/tole sap/3.jpg" alt="Tonle Sap Lake">
                  <div class="hover-overlay">
                    <div class="hover-text">
                      <h5 class="text-light">Tonle Sap Lake</h5>
                      <small>Experience Cambodia's largest freshwater lake and vibrant floating villages.</small>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="hover-card">
                  <img src="../assets/img/koh ker/f0d92c4178e16494b3b4c4568d3feb8f.jpg" alt="More Adventures">
                  <div class="hover-overlay">
                    <div class="hover-text mb-2">
                      <h5 class="text-light">More Adventures</h5>
                      <small>Uncover more stunning locations and unforgettable moments in Cambodia.</small>
                    </div>
                    <a href="../gallery.php" class="btn btn-primary btn-sm">View More</a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Right: Highlights -->
          <div class="col-lg-4">
            <div class="tour-highlights">
              <h3>Tour Highlights</h3>
              <ul>
                <li><i class="bi bi-check-circle"></i> Explore Angkor Wat, Bayon, Ta Prohm & more</li>
                <li><i class="bi bi-check-circle"></i> Sunset views from Phnom Bakheng</li>
                <li><i class="bi bi-check-circle"></i> Boat tour of Tonle Sap floating village</li>
                <li><i class="bi bi-check-circle"></i> Entertainment & nightlife at Nagaworld Casino</li>
                <li><i class="bi bi-check-circle"></i> Comfortable 3-star hotels & A/C transport</li>
                <li><i class="bi bi-check-circle"></i> Local guides, free water & towels daily</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Itinerary -->
      <div class="tour-itinerary" data-aos="fade-up" data-aos-delay="300">
        <h2>Itinerary</h2>
        <div class="itinerary-timeline">

          <div class="itinerary-item">
            <div class="day-number">Day 1</div>
            <div class="day-content">
              <h4>Arrival in Phnom Penh – Transfer to Siem Reap</h4>
              <ul>
                <li> Arrival at Phnom Penh, Techo International Airport </li>
                <li> Meet and greeted by our English-speaking tour guide </li>
                <li> Transfer to Siem Reap province</li>
                <li> Upon arrival, transfer to the hotel </li>

              </ul>
              <div class="day-details">
                <span class="accommodation"><i class="bi bi-building"></i> Hotel in Siem Reap</span>
                <span class="meals"><i class="bi bi-cup-hot"></i> - </span>
              </div>
            </div>
          </div>

          <div class="itinerary-item">
            <div class="day-number">Day 2</div>
            <div class="day-content">
              <h4>Angkor Small Circuit Tour</h4>
              <ul>
                <li> Enjoy breakfast at the hotel</li>
                <li> Go to visit the South Gate of Angkor Thom, or Tonle Om Gate is one of the five ancient gate and is a very famous spot within Angkor Archaeological Park. Angkor Thom is the last capital of the Khmer Empire was fortified city built by king Jayavarman VII in the late 12th century. Next, visit Bayon temple is a richly decorated Khmer temple related to Buddhism, built in the late 12th or early 13th century as a state temple of the king Jayavarman VII. </li>
                <li> The northwest of Bayon is called Baphuon which is a Hindu temple built before Angkor Wat in the mid-11th century.</li>
                <li> Visit Phimeanakas is a Pyramid Hindu temple built at the end of 10th century and located inside the enclosure of the Royal Palace of Angkor Thom.</li>
                <li> Visit the Terrace of the Elephants is a part of the walled city of Angkor Thom. It was used by Angkor’s king Jayavarman VII as a platform to view his victorious returning army. And then visit the terrace of the Leper King is just the north of the Terrace of the Elephants. It was built in the Bayon style under Jayavaraman VII.</li>
                <li> Enjoy lunch at a local restaurant</li>
                <li> Continue to visit the magnificent Angkor Wat temple is a temple complex in Cambodia and the largest religious monument in the world, which built in the early 12th century by king Suryavarman II as a Hindu temple dedicated to the god Vishnu for the Khmer Empire and it gradually transformed into a Buddhist temple. </li>
                <li> Visit the fabulous Ta Prohm temple, which embraced by the roots of enormous fig trees. It is more famous for being the location in the film Lora Croft: Tomb Raider, played by Angelina Jolie. Bayon was built similar in style to the Bayon during the late 12th century. </li>
                <li> Afterward continue to Phnom Bakheng, climb up the hill for waiting to see a stunning sunset view. Phnom Bakheng is the most popular tourist spot for sunset views of the Angkor Wat temple, which lies amidst the jungle about 1.5km to the southeast</li>
                <li> Enjoy dinner and then transfer back to the hotel</li> <br>
                <li><strong>Note:</strong><span style="font-style: italic;color:#eb8900;"> Due to the limited number of tourists allowed at Phnom Bakheng during peak times, we require you to start climbing a bit earlier. Please be prepared for a longer wait to watch the sunset, which can take around 1 hour 45 minutes to 2 hours. </span></li>
                <li><strong>Optional:</strong>
                  <ul>
                    <li><strong>Shadow Puppet Performance:</strong> Experience the magic of Khmer storytelling through shadow puppetry by using light and leather. It is an ancient art in Cambodia. After the show you can try and play with traditional string puppets. Showtime is at 7:00pm </li>
                    <li><strong> Phare Circus</strong>Visit Phare Circus it is more than just a circus, the Cambodian circus performers use theater, music, dance and modern circus arts to tell uniquely Cambodian stories, historical, folk and modern. The young circus artists will astonish you with their energy, emotion, enthusiasm and talent, making you have an unforgettable experience. Showtime is at 8:00pm </li>
                  </ul>
                </li>
              </ul>
              <div class="day-details">
                <span class="accommodation"><i class="bi bi-building"></i> Hotel in Siem Reap</span>
                <span class="meals"><i class="bi bi-cup-hot"></i> Breakfast, Lunch, Dinner</span>
              </div>
            </div>
          </div>

          <div class="itinerary-item">
            <div class="day-number">Day 3</div>
            <div class="day-content">
              <h4>Siem Reap – Phnom Penh </h4>
              <ul>
                <li> Enjoy breakfast at the hotel</li>
                <li> Visit Kampong Phluk is a floating village and flooded mangrove forest on the Tonle Sap Lake. Many houses and buildings are constructed on the long stilts ranging from 6m to 9m to accommodate the changes in water level between wet and dry seasons. Our boat will go slowly through forest canals, allowing you to catch glimpses of flora and fauna, and see a truly beautiful eco-system</li>
                <li> Enjoy lunch at a local restaurant</li>
                <li> Depart for Phnom Penh city</li>
                <li> Upon arrival, have dinner and then transfer to the hotel at Nagaworld for check in </li> <br>

                <li><strong>Optional:</strong> <span style="color: #eb8900; font-weight: bold;">Ox Cart </span><br> Experience an Ox Cart ride at Bakong (30mn) in the villages to see the daily activities of local people, along the way discovering a scenic of rice paddy field, seasonal farming methods and the beauty of the Cambodian countryside. The Ox Cart has been an important feature in Cambodian culture and it has been a transport mode of Khmer people since ancient times. </li>
              </ul>
              <div class="day-details">
                <span class="accommodation"><i class="bi bi-building"></i> Nagaworld Hotel, Phnom Penh</span>
                <span class="meals"><i class="bi bi-cup-hot"></i> Breakfast, Lunch, Dinner</span>
              </div>
            </div>
          </div>

          <div class="itinerary-item">
            <div class="day-number">Day 4</div>
            <div class="day-content">
              <h4>Phnom Penh – Casino </h4>
              <ul>
                <li> Have breakfast at the hotel</li>
                <li> Free time for leisure and enjoy in the Nagaworld casino</li>
                <li> Enjoy the nightlife of Phnom Penh</li>

                </li>
              </ul>
              <div class="day-details">
                <span class="accommodation"><i class="bi bi-building"></i> Nagaworld Hotel, Phnom Penh</span>
                <span class="meals"><i class="bi bi-cup-hot"></i> Breakfast</span>
              </div>
            </div>
          </div>

          <div class="itinerary-item">
            <div class="day-number">Day 5</div>
            <div class="day-content">
              <h4>Departure</h4>
              <ul>
                <li> Have breakfast at the hotel</li>
                <li> Transfer to airport and wait for your flight back home</li>
              </ul>
              <div class="day-details">
                <span class="meals"><i class="bi bi-cup-hot"></i> Breakfast</span>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- Inclusions -->
      <div class="tour-inclusions" data-aos="fade-up" data-aos-delay="400">
        <div class="row">
          <div class="col-lg-6">
            <div class="included-section">
              <h3><i class="bi bi-check-circle-fill"></i> What's Included</h3>
              <ul class="inclusion-list included">
                <li><i class="bi bi-check"></i> Accommodation (3-star and standard hotel), of Double/Twin sharing for 2 adults </li>
                <li><i class="bi bi-check"></i> A/C car/van/bus with driver </li>
                <li><i class="bi bi-check"></i> Angkor Pass & entry tickets as per itinerary</li>
                <li><i class="bi bi-check"></i> Boat trip at Tonle Sap Floating Village</li>
                <li><i class="bi bi-check"></i> English-speaking tour guide</li>
                <li><i class="bi bi-check"></i> Complimentary bottled water & cold towels</li>
              </ul>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="excluded-section">
              <h3><i class="bi bi-x-circle-fill"></i> What's Not Included</h3>
              <ul class="inclusion-list excluded">
                <li><i class="bi bi-x"></i> International & domestic airfares</li>
                <li><i class="bi bi-x"></i> Cambodia visa & processing</li>
                <li><i class="bi bi-x"></i> Meals not specified in itinerary (B/L/D)</li>
                <li><i class="bi bi-x"></i> Travel insurance</li>
                <li><i class="bi bi-x"></i> Angkor sunrise tour</li>
                <li><i class="bi bi-x"></i> Personal expenses (laundry, phone, etc.)</li>
                <li><i class="bi bi-x"></i> Single supplement (USD 190)</li>
                <li><i class="bi bi-x"></i> Optional tours & entertainment</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <?php
      require_once '../config/db.php';

      // Fetch group pricing
      $query = "SELECT * FROM private_tour_pricing ORDER BY id ASC";
      $result = $mysqli->query($query);
      if (!$result) {
        die("Query failed: " . $mysqli->error);
      }

      $groupLimitsJS = [];
      while ($row = $result->fetch_assoc()) {
        $group = $row['group_size'];
        $price = (float)$row['price_per_person'];

        if (preg_match('/(\d+)\D+(\d+)/', $group, $matches)) {
          $min = (int)$matches[1];
          $max = (int)$matches[2];
        } else {
          $min = 1;
          $max = 1;
        }

        $groupLimitsJS[$group] = [
          'price' => $price,
          'minAdults' => $min,
          'maxTotal' => $max
        ];
      }
      ?>
      <script>
        window.addEventListener('DOMContentLoaded', function() {
          const groupLimits = <?= json_encode($groupLimitsJS) ?>;

          let currentGroupId = null;
          let currentGroupKey = null;

          const getQty = type => parseInt(document.getElementById(`pkg-${type}-qty`).innerText) || 0;
          const setQty = (type, val) => document.getElementById(`pkg-${type}-qty`).innerText = val;

          const totalPeople = () => ['adult', 'child12', 'child75', 'child50', 'child0']
            .reduce((sum, t) => sum + getQty(t), 0);

          const updateButtonStates = () => {
            if (!currentGroupKey) return;
            const limits = groupLimits[currentGroupKey];
            const adult = getQty("adult");
            const total = totalPeople();
            const max = limits.maxTotal;

            const disableAdd = (id, condition) =>
              document.querySelector(`#pkg-${id}-qty`).parentElement.querySelectorAll("button")[1].disabled = condition;
            const disableSub = (id, condition) =>
              document.querySelector(`#pkg-${id}-qty`).parentElement.querySelectorAll("button")[0].disabled = condition;

            disableSub("adult", adult <= limits.minAdults);
            disableAdd("adult", total >= max);

            ["child12", "child75", "child50", "child0"].forEach(type => {
              const current = getQty(type);
              disableSub(type, current <= 0);
              disableAdd(type, total >= max);
            });
          };

          window.pkgUI = {
            currentGroupId,
            currentGroupKey,

            selectGroup(pricingId, groupKey, price) {
              this.currentGroupId = pricingId;
              this.currentGroupKey = groupKey;
              currentGroupId = pricingId;
              currentGroupKey = groupKey;

              document.getElementById("pkg-group-step").classList.add("pkg-hidden");
              const form = document.getElementById("pkg-form-step");
              form.classList.remove("pkg-hidden");
              form.classList.add("pkg-fade-in");

              const group = groupLimits[groupKey];

              setQty("adult", group.minAdults);
              ["child12", "child75", "child50", "child0"].forEach(t => setQty(t, 0));
              document.getElementById("pkg-adult-price-label").innerText = `$${price.toFixed(2)}`;

              this.updateTotal();
              updateButtonStates();
            },

            updateQty(type, delta) {
              if (!this.currentGroupKey) return;

              const limits = groupLimits[this.currentGroupKey];
              const max = limits.maxTotal;
              const minAdults = limits.minAdults;
              const currentQty = getQty(type);
              const total = totalPeople();
              const newTotal = total + delta;

              if (type === "adult") {
                const newVal = currentQty + delta;
                if (newVal < minAdults || newTotal > max || newVal < 0) return;
                setQty(type, newVal);
              } else {
                const newVal = currentQty + delta;
                if (newVal < 0 || newTotal > max) return;
                setQty(type, newVal);
              }

              this.updateTotal();
              updateButtonStates();
            },

            updateTotal() {
              if (!this.currentGroupKey) return;

              const group = groupLimits[this.currentGroupKey];
              const base = group.price;

              const adult = getQty("adult");
              const c12 = getQty("child12");
              const c75 = getQty("child75");
              const c50 = getQty("child50");

              const total =
                (adult + c12) * base +
                c75 * base * 0.75 +
                c50 * base * 0.5;

              document.getElementById("pkg-total-price").innerText = total.toFixed(2);
            }
          };

          // Show success popup function
          function showAddToCartPopup() {
            const popup = document.getElementById('addToCartSuccessPopup');
            if (!popup) return;
            popup.style.display = 'block';
            setTimeout(() => {
              popup.style.display = 'none';
            }, 3000);
          }

          // Add to Cart button click handler
          document.getElementById('addToCartBtn').addEventListener('click', async function() {
            if (!pkgUI.currentGroupId || !pkgUI.currentGroupKey) {
              alert('Please select a group size first.');
              return;
            }

            const tourDate = document.getElementById('pkg-tour-date').value;
            if (!tourDate) {
              alert('Please select a tour date.');
              return;
            }

            const adults = getQty('adult');
            const child12 = getQty('child12');
            const child75 = getQty('child75');
            const child50 = getQty('child50');
            const child0 = getQty('child0');
            const totalPrice = parseFloat(document.getElementById('pkg-total-price').innerText) || 0;

            if (adults < groupLimits[pkgUI.currentGroupKey].minAdults) {
              alert(`Minimum adults required: ${groupLimits[pkgUI.currentGroupKey].minAdults}`);
              return;
            }

            const urlParts = window.location.pathname.split('/');
            const tourName = urlParts[urlParts.length - 1].replace(/\.(php|html)$/, '');

            const postData = {
              group_id: pkgUI.currentGroupId,
              tour_name: tourName,
              tour_date: tourDate,
              adults: adults,
              child12: child12,
              child75: child75,
              child50: child50,
              child0: child0,
              total_price: totalPrice,
              image: '../assets/img/Angkorwat/temple.jpg',
            };

            try {
              const response = await fetch('add-to-cart.php', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json'
                },
                body: JSON.stringify(postData),
              });

              const data = await response.json();

              if (data.status === 'success') {
                showAddToCartPopup();
                // Optionally, update cart icon or clear form here
              } else {
                alert('Error adding to cart: ' + (data.message || 'Unknown error'));
              }
            } catch (error) {
              console.error('Add to cart error:', error);
              alert('Failed to add to cart. Please try again.');
            }
          });
        });
      </script>

      <section class="pkg-section">
        <h2 class="pkg-title">
          <span class="pkg-title-highlight"></span>Package <span style="color:#2563eb; font-weight: bold;">options</span>
        </h2>

        <!-- Step 1: Group Selection -->
        <div id="pkg-group-step" class="pkg-section pkg-fade-in">
          <h3 class="pkg-heading">Choose Group Size</h3>
          <div class="row g-4 d-flex justify-content-center">
            <?php
            $result = $mysqli->query($query);
            while ($row = $result->fetch_assoc()) {
              $groupSize = htmlspecialchars($row['group_size']);
              $price = htmlspecialchars($row['price_per_person']);
              $remark = htmlspecialchars($row['remark']);
            ?>
              <div class="col-md-4">
                <div class="pkg-group-option" tabindex="0"
                  onclick="pkgUI.selectGroup(<?= $row['id'] ?>, '<?= $groupSize ?>', <?= $price ?>)">
                  <h5><?= $groupSize ?> person<?= $groupSize > 1 ? 's' : '' ?></h5>
                  <p>From <span>USD <?= number_format($price, 2) ?></span> /person</p>
                  <small><?= $remark ?></small>
                </div>
              </div>
            <?php } ?>
          </div>
        </div>

        <!-- Step 2: Form -->
        <div id="pkg-form-step" class="pkg-hidden">
          <div class="row g-4 align-items-center">
            <div class="col-md-7">
              <div class="mb-3 mt-3">
                <label for="pkg-tour-date" class="form-label">Select Tour Date</label>
                <input type="date" id="pkg-tour-date" class="form-control" placeholder="dd/mm/yyyy">
              </div>

              <!-- Adult -->
              <div class="pkg-price-box mb-3">
                <div>
                  <p class="fw-semibold mb-0">Adults</p>
                  <p class="pkg-text-orange">At least required based on group size</p>
                </div>
                <div class="d-flex align-items-center">​
                  <span class="me-2 fw-medium" id="pkg-adult-price-label">$0.00</span>
                  <div class="pkg-qty-box">
                    <button onclick="pkgUI.updateQty('adult', -1)">−</button>
                    <span id="pkg-adult-qty">1</span>
                    <button onclick="pkgUI.updateQty('adult', 1)">+</button>
                  </div>
                </div>
              </div>

              <!-- Children -->
              <div class="pkg-price-box mb-3">
                <div>
                  <p class="fw-semibold mb-0">Childs (12+)</p>
                  <p class="pkg-text-orange">Charged as adult</p>
                </div>
                <div class="d-flex align-items-center">
                  <span class="me-2 fw-medium">100%</span>
                  <div class="pkg-qty-box">
                    <button onclick="pkgUI.updateQty('child12', -1)">−</button>
                    <span id="pkg-child12-qty">0</span>
                    <button onclick="pkgUI.updateQty('child12', 1)">+</button>
                  </div>
                </div>
              </div>

              <div class="pkg-price-box mb-3">
                <div>
                  <p class="fw-semibold mb-0">Childs (5–11) with bed</p>
                  <p class="pkg-text-orange">75% of adult price</p>
                </div>
                <div class="d-flex align-items-center">
                  <span class="me-2 fw-medium">75%</span>
                  <div class="pkg-qty-box">
                    <button onclick="pkgUI.updateQty('child75', -1)">−</button>
                    <span id="pkg-child75-qty">0</span>
                    <button onclick="pkgUI.updateQty('child75', 1)">+</button>
                  </div>
                </div>
              </div>

              <div class="pkg-price-box mb-3">
                <div>
                  <p class="fw-semibold mb-0">Childs (5–11) no bed</p>
                  <p class="pkg-text-orange">50% of adult price</p>
                </div>
                <div class="d-flex align-items-center">
                  <span class="me-2 fw-medium">50%</span>
                  <div class="pkg-qty-box">
                    <button onclick="pkgUI.updateQty('child50', -1)">−</button>
                    <span id="pkg-child50-qty">0</span>
                    <button onclick="pkgUI.updateQty('child50', 1)">+</button>
                  </div>
                </div>
              </div>

              <div class="pkg-price-box mb-3">
                <div>
                  <p class="fw-semibold mb-0">Childs (under 5)</p>
                  <p class="pkg-text-orange">Free</p>
                </div>
                <div class="d-flex align-items-center">
                  <span class="me-2 fw-medium">Free</span>
                  <div class="pkg-qty-box">
                    <button onclick="pkgUI.updateQty('child0', -1)">−</button>
                    <span id="pkg-child0-qty">0</span>
                    <button onclick="pkgUI.updateQty('child0', 1)">+</button>
                  </div>
                </div>
              </div>

              <div class="d-flex justify-content-between align-items-center flex-wrap mt-4">
                <p class="pkg-total mb-2 mb-md-0">USD <span id="pkg-total-price">0.00</span> <span class="pkg-details-note">Details ⌃</span></p>
                <div class="mt-2 mt-md-0">
                  <button id="addToCartBtn" class="btn pkg-btn-yellow me-2" type="button">Add to Cart</button>
                  <button class="btn pkg-btn-blue" type="submit">Book</button>
                </div>
              </div>
            </div>

            <div class="col-md-5 pkg-img-container">
              <img src="../assets/img/Angkorwat/temple.jpg" alt="Angkor Wat" class="img-fluid">
            </div>
          </div>
        </div>
      </section>
      <!-- Styled Success Popup (centered like your reference) -->
      <div id="addToCartSuccessPopup" style="
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            z-index: 9999;
            text-align: center;
            width: 280px;
            font-family: 'Arial', sans-serif;
          ">
        <div style="
              width: 64px;
              height: 64px;
              border-radius: 50%;
              background-color: #4CAF50;
              display: flex;
              align-items: center;
              justify-content: center;
              margin: 0 auto 16px auto;
            ">
          <span style="font-size: 32px; color: white;">✓</span>
        </div>
        <h3 style="margin: 0; font-size: 18px; color: #333;">Add To Cart</h3>
        <p style="margin-top: 6px; font-weight: bold; color: #4CAF50; font-size: 16px;">Successfully</p>
      </div>

      <!-- Booking Form -->
      <div class="booking-section" id="booking" data-aos="fade-up" data-aos-delay="600">
        <div class="booking-card">
          <h2>Book This Tour</h2>
          <form action="forms/tour-booking.php" method="post" class="php-email-form">
            <div class="row">
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="travel-date">Preferred Travel Date</label>
                  <select name="date" id="travel-date" class="form-control" required="">
                    <option value="">Select a date</option>
                    <option value="May 15-26">May 15-26, 2024</option>
                    <option value="June 12-23">June 12-23, 2024</option>
                    <option value="July 10-21">July 10-21, 2024</option>
                    <option value="August 14-25">August 14-25, 2024</option>
                    <option value="September 18-29">September 18-29, 2024</option>
                    <option value="October 9-20">October 9-20, 2024</option>
                  </select>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="travelers">Number of Travelers</label>
                  <select name="travelers" id="travelers" class="form-control" required="">
                    <option value="">Select travelers</option>
                    <option value="1">1 Traveler</option>
                    <option value="2">2 Travelers</option>
                    <option value="3">3 Travelers</option>
                    <option value="4">4 Travelers</option>
                    <option value="5">5 Travelers</option>
                    <option value="6+">6+ Travelers</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="name">Full Name</label>
                  <input type="text" name="name" id="name" class="form-control" required="">
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="email">Email Address</label>
                  <input type="email" name="email" id="email" class="form-control" required="">
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input type="tel" name="phone" id="phone" class="form-control">
            </div>
            <div class="form-group">
              <label for="message">Special Requests or Questions</label>
              <textarea name="message" id="message" rows="4" class="form-control" placeholder="Any dietary restrictions, accessibility needs, or special occasions..."></textarea>
            </div>
            <div class="loading">Loading</div>
            <div class="error-message"></div>
            <div class="sent-message">Your booking request has been sent. We'll contact you within 24 hours!</div>
            <button type="submit" class="btn-submit">Send Booking Request</button>
          </form>
        </div>
      </div>

      <!-- Gallery -->
      <div class="tour-gallery" data-aos="fade-up" data-aos-delay="700">
        <h2>Photo Gallery</h2>
        <div class="gallery-grid">
          <div class="gallery-item">
            <a href="../assets/img/travel/destination-1.webp" class="glightbox">
              <img src="../assets/img/travel/destination-1.webp" alt="Venice Canals" class="img-fluid" loading="lazy">
            </a>
          </div>
          <div class="gallery-item">
            <a href="../assets/img/travel/destination-2.webp" class="glightbox">
              <img src="../assets/img/travel/destination-2.webp" alt="Florence Cathedral" class="img-fluid" loading="lazy">
            </a>
          </div>
          <div class="gallery-item">
            <a href="../assets/img/travel/destination-3.webp" class="glightbox">
              <img src="../assets/img/travel/destination-3.webp" alt="Roman Colosseum" class="img-fluid" loading="lazy">
            </a>
          </div>
          <div class="gallery-item">
            <a href="../assets/img/travel/destination-4.webp" class="glightbox">
              <img src="../assets/img/travel/destination-4.webp" alt="Santorini Sunset" class="img-fluid" loading="lazy">
            </a>
          </div>
          <div class="gallery-item">
            <a href="../assets/img/travel/destination-5.webp" class="glightbox">
              <img src="../assets/img/travel/destination-5.webp" alt="Hagia Sophia" class="img-fluid" loading="lazy">
            </a>
          </div>
          <div class="gallery-item">
            <a href="../assets/img/travel/destination-6.webp" class="glightbox">
              <img src="../assets/img/travel/destination-6.webp" alt="Mediterranean Cuisine" class="img-fluid" loading="lazy">
            </a>
          </div>
        </div>
      </div>

      <!-- Final CTA -->
      <div class="final-cta" data-aos="fade-up" data-aos-delay="1000">
        <div class="cta-content">
          <h2>Ready for Your Mediterranean Adventure?</h2>
          <p>Limited spots available for 2024 departures. Book now to secure your place on this incredible journey.</p>
          <div class="cta-actions">
            <a href="../booking.php" class="btn-primary">Book Now</a>
            <a href="tel:+1-555-123-4567" class="btn-secondary">Call Us: +1 (555) 123-4567</a>
          </div>
          <div class="urgency-banner">
            <i class="bi bi-clock"></i>
            <span>Next departure in 45 days - Only 6 spots remaining!</span>
          </div>
        </div>
      </div>

    </div>

  </section><!-- /Travel Tour Details Section -->
  <style>
    .gallery-blog .hover-card {
      position: relative;
      overflow: hidden;
      border-radius: 12px;
      width: 100%;
      height: 300px;
    }

    .gallery-blog .hover-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.4s ease;
    }

    .gallery-blog .hover-card:hover img {
      transform: scale(1.1);
    }

    .gallery-blog .hover-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.4);
      color: #fff;
      opacity: 0;
      transition: opacity 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      text-align: center;
      padding: 15px;
    }

    .gallery-blog .hover-card:hover .hover-overlay {
      opacity: 1;
    }

    .gallery-blog .hover-text {
      color: #fff;
      font-size: 18px;
      font-weight: 400;
      margin-bottom: 10px;
    }

    .gallery-blog .hover-overlay .btn {
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.3s ease;
    }

    .gallery-blog .hover-card:hover .hover-overlay .btn {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</main>
<?php include '../partials/__footer.php'; ?>

<!-- Scroll Top -->
<a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<!-- Preloader -->
<div id="preloader"></div>

<!-- Vendor JS Files -->
<script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="../assets/vendor/php-email-form/validate.js"></script>
<script src="../assets/vendor/aos/aos.js"></script>
<script src="../assets/vendor/purecounter/purecounter_vanilla.js"></script>
<script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="../assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
<script src="../assets/vendor/glightbox/js/glightbox.min.js"></script>

<!-- Main JS File -->
<script src="../assets/js/main.js"></script>


</body>

</html>